<style>
  canvas.chart {
    width: 100% !important;
    max-width: 500px;
    height: auto !important;
    /*position: relative;*/
    top: 5px;
  }
  canvas.chart.timeline {
    height: 260px !important;
  }
  p.chart-label {
    position: absolute;
    width:calc(100% - 30px);
    top: 50%;
    text-align: center;
    font-size: 1.8em;
    font-weight: bold
    z-index: 1000;
  }
</style>
<div ng-controller="generalAccountCtrl">
<!--   <div class="row" ng-show="limitReach()">
  <div class="col-lg-12">
    <p class="alert" style="font-size: 1.2em">you've reached the limit of your plan, go further by <a href="/pricing">upgrading your plan</a>.</p></div><br>
</div> -->
  <div class="row">
    <div ng-class="{'col-lg-2':me.plan.name != 'scalability', 'col-lg-3': me.plan.name == 'scalability', 'col-lg-offset-3': me.plan.name != 'scalability', 'col-lg-offset-4': me.plan.name == 'scalability'}" style="position: relative;">
      <p class="text-center"><strong>Users</strong></p>
      <p class="chart-label">{{me.totalUsers|readableNumber}} / {{me.plan.nbUsers|readableNumber}}</p>
      <canvas id="connectionChart" width="400" height="400" class="chart"></canvas>
    </div>
    <div class="col-lg-2" style="position: relative;" ng-hide="me.plan.nbApp == 'unlimited'">
      <p class="text-center"><strong>Apps</strong></p>
      <p class="chart-label">{{me.apps.length}} / {{me.plan.nbApp}}</p>
      <canvas id="appsChart" width="400" height="400" class="chart"></canvas>
    </div>
    <div ng-class="{'col-lg-2':me.plan.name != 'scalability', 'col-lg-3': me.plan.name =='scalability'}" ng-hide="me.plan.nbProvider == 'unlimited'">
      <p class="text-center"><strong>Providers</strong></p>
      <p class="chart-label">{{me.keysets.length}} / {{me.plan.nbProvider}}</p>
      <canvas id="providersChart" width="400" height="400" class="chart"></canvas>
    </div>
  </div>
  <div class="row" style="margin-top: 30px">
    <div class="col-lg-6">
      <div class="panel">
        <div class="panel-heading">
          <h3 style="margin: 0"><span class="label label-info" style="position: relative; top : -3px; left: -6px">{{me.apps.length}}</span>Apps</h3>
        </div>
        <div ng-hide="me.apps.length > 0" style="position: relative; top: 10px" class="alert alert-info">You haven't created any apps yet.</div>
        <table ng-show="me.apps.length > 0" class="table" style="margin:0; padding:0">
          <thead>
            <th style="width: 80%">Name</th>
            <th style="text-align: center">Users</th>
          </thead>
          <tbody>
            <tr ng-repeat="app in me.apps">
              <td>{{app.name|capitalize}}</td>
              <td style="text-align: center">
                {{app.totalUsers}}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="col-lg-6">
      <div class="panel">
        <div class="panel-heading">
          <h3 style="margin: 0"><span class="label label-info" style="position: relative; top : -3px; left: -6px">{{me.keysets.length}}</span>Providers</h3>
        </div>
        <div ng-hide="me.keysets.length > 0" style="position: relative; top: 10px" class="alert alert-info">You haven't set any providers yet.</div>
        <table ng-show="me.keysets.length > 0" class="table" style="margin:0; padding:0">
          <thead>
            <th style="width: 80%">Name</th>
          </thead>
          <tbody>
            <tr ng-repeat="provider in me.keysets">
              <td><img ng-src="/api/providers/{{provider}}/logo" width="28" style="margin-right:10px;"/><span style="position: relative; top: 1px">{{provider|capitalize}}</span></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
<!--   <div class="row">
    <pre>{{plan|json}}</pre>
    <pre>{{apps|json}}</pre>
</div> -->
</div>